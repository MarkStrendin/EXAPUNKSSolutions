GRAB 300
LINK 800

MARK DIAL
COPY -1 #DIAL
TEST EOF
TJMP DIE
ADDI X 1 X
@REP 11
COPY F #DIAL
@END

;DISPATCH WORKER
REPL CHILD

;TEST TO SEE IF WE HAVE
;A NUMBER COMING TO US
;IF NOT, DIAL THE NEXT
;PHONE NUMBER
NOOP
NOOP
NOOP
TEST MRD
FJMP DIAL

;RECEIVE A PHONE NUMBER
MARK RXPHONENUMBER
SEEK 9999
@REP 11
COPY M F
@END

;TEST TO SEE IF MORE
;NUMBERS ARE ON THE WAY
NOOP
NOOP
TEST MRD
TJMP RXPHONENUMBER

;JUMP BACK
SEEK -9999
MULI X 11 T
SEEK T
JUMP DIAL

MARK DIE
WIPE
HALT


MARK CHILD
LINK 800
GRAB 200
MARK TXLOOP
SEEK 1
@REP 11
COPY F M
@END
JUMP TXLOOP